/* Copyright (c) 2012 	Andrey Mikhalevich, Katren ltd.*//*		Description*///ф/** Requirements* @requires controls/ControlContainer.js *//* constructor */function DelivAssignedOrderGridCommands(id,options){	options = options || {};	options.noInsert = false;	options.noCopy = true;	options.noPrint = true;	options.noExport = true;	options.noEdit = true;		DelivAssignedOrderGridCommands.superclass.constructor.call(this,		id,options);	}extend(DelivAssignedOrderGridCommands,GridCommands);DelivAssignedOrderGridCommands.prototype.IMG = "img/cat/cat_new.png";DelivAssignedOrderGridCommands.prototype.addInsert = function(){	var self = this;	this.setElementById(this.getId()+"_insert",new ButtonSelectObject(null,	{"glyph":"glyphicon-plus",	"listView":DelivExtraVehSelectList_View,	"methodId":"extra_veh_select_list",	"modelId":"extra_veh_select_list",	"onBeforeSelect":function(selView){		var d = DateHandler.dateToStr(			self.m_clickContext.getFilter().getDate(),"dd/mm/yy");		self.m_date = d;		selView.setDate(d);	},	"onSelected":function(keys,descrs){		var contr = new Delivery_Controller(new ServConnector(HOST_NAME));		contr.run("add_extra_vehicle",{			"func":function(){				self.m_clickContext.onRefresh();			},			"params":{"vehicle_id":keys["id"],				"date":self.m_date}		});	},	"attrs":{"title":"добавить ТС"}	})	);}DelivAssignedOrderGridCommands.prototype.addDelete = function(){	var self = this;	this.setElementById(this.getId()+"_select",new ButtonCtrl(null,	{"glyph":"glyphicon-remove",	"onClick":function(){		var k = json2obj(self.m_clickContext.m_selectedRowKeys);		if (k){			var d = DateHandler.dateToStr(				self.m_clickContext.getFilter().getDate(),"dd/mm/yy");					var contr = new Delivery_Controller(new ServConnector(HOST_NAME));			contr.run("delete_extra_vehicle",{				"func":function(){					self.m_clickContext.onRefresh();				},				"params":{"vehicle_id":k.id,					"date":d}			});		}	},	"attrs":{"title":"удалить ТС"}	})	);}