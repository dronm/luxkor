/* Copyright (c) 2012 	Andrey Mikhalevich, Katren ltd.*//*		Description*///ф/** Requirements * @requires controls/ViewDialog.js*//* constructor */function WarehouseDialog_View(id,options){	options = options || {};	options.readMethodId = options.readMethodId || this.DEF_READ_METH_ID;	options.writeController = options.writeController || options.readController;		options.noOk = true;	options.noCancel = true;		WarehouseDialog_View.superclass.constructor.call(this,		id,options);	var model_id="WarehouseDialog_Model";	this.addDataControl(		new Edit(id+"_id",		{"name":"id","visible":false}),		{"modelId":model_id,		"valueFieldId":"id",		"keyFieldIds":null},		{"valueFieldId":"id","keyFieldIds":null,		"modelId":"Warehouse_Model"}	);		this.addDataControl(		new EditString(id+"_name",		{"labelCaption":"Наименование:",		"name":"name",		"tableLayout":false,		"attrs":{"maxlength":50,"size":30,"required":"required"}		}		),		{"modelId":model_id,		"valueFieldId":"name",		"keyFieldIds":null},		{"valueFieldId":"name","keyFieldIds":null,		"modelId":"Warehouse_Model"}	);	this.addDataControl(		new EditCheckBox(id+"_deleted",		{"labelCaption":"Удален:",		"name":"name",		"tableLayout":false		}		),		{"modelId":model_id,		"valueFieldId":"deleted",		"keyFieldIds":null},		{"valueFieldId":"deleted","keyFieldIds":null,		"modelId":"Warehouse_Model"}	);		this.addDataControl(		new EditString(id+"_address",		{"labelCaption":"Адрес:",		"name":"name",		"tableLayout":false,		"attrs":{"maxlength":300,"size":100}		}		),		{"modelId":model_id,		"valueFieldId":"address",		"keyFieldIds":null},		{"valueFieldId":"address","keyFieldIds":null,		"modelId":"Warehouse_Model"}	);	this.addDataControl(		new EditString(id+"_tel",		{"labelCaption":"Телефоны:",		"name":"name",		"tableLayout":false,		"attrs":{"maxlength":100,"size":50}		}		),		{"modelId":model_id,		"valueFieldId":"tel",		"keyFieldIds":null},		{"valueFieldId":"tel","keyFieldIds":null,		"modelId":"Warehouse_Model"}	);	this.addDataControl(		new EditString(id+"_email",		{"labelCaption":"Эл.почта:",		"name":"name",		"tableLayout":false,		"attrs":{"maxlength":100,"size":50}		}		),		{"modelId":model_id,		"valueFieldId":"email",		"keyFieldIds":null},		{"valueFieldId":"email","keyFieldIds":null,		"modelId":"Warehouse_Model"}	);		if (!CONST_CONTROLS.firm){		CONST_CONTROLS.firm = new FirmEditObject("default_firm_id",id+"_default_firm",false);	}	else{		CONST_CONTROLS.firm.setDefaultId();	}	this.addDataControl(CONST_CONTROLS.firm,		{"modelId":model_id,		"valueFieldId":"default_firm_descr",		"keyFieldIds":["default_firm_id"]},		{"valueFieldId":null,"keyFieldIds":["default_firm_id"]}	);		if (!CONST_CONTROLS.production_city){		CONST_CONTROLS.production_city=new ProductionCityEditObject("production_city_id",id+"_production_city",false);	}	else{		CONST_CONTROLS.production_city.setDefaultId();	}	this.addDataControl(CONST_CONTROLS.production_city,		{"modelId":model_id,		"valueFieldId":"production_city_descr",		"keyFieldIds":["production_city_id"]},		{"valueFieldId":null,"keyFieldIds":["production_city_id"]}	);		this.m_ctrlZoneStr = new Edit(id+"_zone_str",{		"visible":false,"name":"zone_str"});	this.addDataControl(this.m_ctrlZoneStr,		{"modelId":model_id,		"valueFieldId":"zone_str",		"keyFieldIds":null},		{"valueFieldId":"zone","keyFieldIds":null,		"modelId":"Warehouse_Model"}	);		this.m_ctrlZoneCenterStr = new Edit(id+"_zone_center_str",{"visible":false,"name":"zone_center_str"});	this.addDataControl(this.m_ctrlZoneCenterStr,		{"modelId":model_id,		"valueFieldId":"zone_center_str",		"keyFieldIds":null},		{"valueFieldId":"null","keyFieldIds":null}	);	var self = this;	this.addControl(new ButtonCmd(uuid(),{		"caption":"Записать",		"onClick":function(){			self.onClickOk();		},		"attrs":{			"title":"записать,закрыть"}		})	);		this.addControl(new ButtonCmd(uuid(),		{"caption":"Закрыть",		"onClick":function(){			self.onCancel();		},		"attrs":{			"title":"закрыть без сохранения"}		})	);				this.addFeatureControl();			this.addMapControl();	}extend(WarehouseDialog_View,MapZones_View);WarehouseDialog_View.prototype.getZoneDescr = function(){	return "Склад отгрузки";}